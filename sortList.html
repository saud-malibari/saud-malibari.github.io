<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>books list</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <style>
    body{
        background-color: #c3c388;
        margin: 20pt;

    }

    #nav{
        background-color: #666633;
        padding: 15pt;
        margin: 20pt;
        border: black solid;
        font-style: oblique;
    }

    #menu li{
        background-color:#99994d;
        display: inline;
        font-size: 20pt;
        margin: 20pt;
        padding: 10pt;
    }

    #menu li:first-child{
        background-color: #802b00;
        border: black solid;
        color: white;
        font-size: 30pt;
        margin: 20pt;
        padding: 20pt 40pt;
    }

    #list-books{
        background-color: #666633;
        padding: 20pt;
        border: black solid;
    }

    #list-books li{
        background-color: #99994d;
        padding: 20pt;
        margin: 10pt;
        border: black solid;
    }

    #list-books img{
        border: black solid;
        
    }
    #list-books p{
        font-size: 15pt;
        border: black ;
        font-style: oblique;
        
    }
    
    
    </style>
    
</head>
<body>

    <div id="nav">
        <ul id="menu">
            <li>goodreads</li>
            <li>Home</li>
            <li>My Books</li>
            <li>Browse</li>

        </ul>

    </div>

    <button onclick="upDateDOM()">view the books!</button>


    <div id="book-listing">
            <h3>select to sort:</h3>

            <select id="sort-select">

                <option ></option>
                <option value="review">sort by reviews</option>
                <option value="date">sort by date</option>
                <option value="price">sort by price</option>
                <option value="stars">sort by star rating</option>

            </select>

           
            <ul id="list-books">

                
            </ul>


    </div>



    <script>
    
                var books=[
                    {
                        tital:'Boneshaker', 
                        date: 'September 29th 2009', 
                        caldate: 2009,
                        price: 149.99, 
                        rev: 3847, 
                        sRate: 3.5, 
                        img:'https://images.gr-assets.com/books/1433161048l/1137215.jpg'
                    }
                    ,
                    {
                        tital:'The Anubis Gates', 
                        date: 'January 1st 1997',
                        caldate: 1997, 
                        price: 169.99, 
                        rev: 1119, 
                        sRate: 3.94, 
                        img:'https://images.gr-assets.com/books/1344409006l/142296.jpg'
                    }
                    ,
                    {
                        tital:'Clementine', 
                        date: 'August 19th 2010', 
                        caldate: 2010,
                        price: 119.99, 
                        rev: 439, 
                        sRate: 3.7, 
                        img:'https://images.gr-assets.com/books/1277163268l/7670800.jpg'
                    }
                    ,
                    {
                        tital:'The Buntline Special', 
                        date: 'December 1st 2010', 
                        caldate: 2010,
                        price: 79.99, 
                        rev: 179, 
                        sRate: 3.46, 
                        img:'https://images.gr-assets.com/books/1284431932l/8253037.jpg'
                    }
                    ,
                    {
                        tital:'Infernal Devices', 
                        date: 'April 7th 2011', 
                        caldate: 2011,
                        price: 59.99, 
                        rev: 361, 
                        sRate: 3.36, 
                        img:'https://images.gr-assets.com/books/1320437674l/9222475.jpg'
                    }
                    ,
                    {
                        tital:'Blameless', 
                        date: 'September 1st 2010', 
                        caldate: 2010,
                        price: 229.99, 
                        rev: 2526, 
                        sRate: 4, 
                        img:'https://images.gr-assets.com/books/1293436281l/7719355.jpg'
                    }
                        ];
            
                   


            var btd = books.children;
                function printBook(booksO){
                  

                    

                         var li = document.createElement("li");   
                    var image = document.createElement("img");
                    image.src=booksO.img;
                         
                    var title = document.createElement("p");
                    var text = document.createTextNode("Title Of The Book: " + booksO.tital);
                    var date = document.createElement("p");
                    var dtext = document.createTextNode("Date Of Rlease: " + booksO.date);
                    var price = document.createElement("p");
                    var pr = document.createTextNode("The Book Price: " + booksO.price);
                    var review = document.createElement("p");
                    var rv = document.createTextNode("Number Of Reviews: " + booksO.rev);
                    var sRate = document.createElement("p");
                    var sr = document.createTextNode("Rate In Stars: " + booksO.sRate);
                    

                    
                    title.appendChild(text);
                    date.appendChild(dtext);
                    price.appendChild(pr);
                    review.appendChild(rv);
                    sRate.appendChild(sr);

                    li.appendChild(image);
                    li.appendChild(title);
                    li.appendChild(date);
                    li.appendChild(price);
                    li.appendChild(review);
                    li.appendChild(sRate);

                    return li;
                        
                    
                   
                    };

                        function sortByReview(){
                        books.sort(function(a, b){return b.rev - a.rev})
                        }

                        function sortBySRate(){
                        books.sort(function(a, b){return b.sRate - a.sRate})
                        }

                        function sortByPrice(){
                        books.sort(function(a, b){return a.price - b.price})
                        }

                        function sortByDate(){
                        books.sort(function(a, b){return a.caldate - b.caldate})
                        }

                        function upDateDOM(){
                        var bl= document.getElementById("list-books")
                        bl.innerHTML = '';
                        for (item of books) {
                            bl.appendChild(printBook(item))
                        }
                    }

                    var select = document.getElementById("sort-select")
                    select.onchange = function () {
                        if (select.value === 'review') {
                            sortByReview()
                            upDateDOM()
                        }
                        else if (select.value === 'price') {
                            sortByPrice()
                            upDateDOM()
                        }
                        else if (select.value === 'stars') {
                            sortBySRate()
                            upDateDOM()
                        }
                        else if (select.value === 'date') {
                            sortByDate()
                            upDateDOM()
                        }

                    }
                   
                
                
                </script>

<h4>
    &copy;
    Saud Malibari / 
    1406834 / 
    CPIT-405
    </h4>
    
    
</body>
</html>